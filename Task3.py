import heapq
import networkx as nx

# ÐŸÐ¾Ð±ÑƒÐ´Ð¾Ð²Ð° Ð³Ñ€Ð°Ñ„Ð° Ð¼ÐµÑ‚Ñ€Ð¾ ÐšÐ¸Ñ”Ð²Ð° (ÑÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð° Ð²ÐµÑ€ÑÑ–Ñ Ð· Ð²Ð°Ð³Ð°Ð¼Ð¸ = 1)
def build_kyiv_metro_graph():
    stations = [
        # Ð§ÐµÑ€Ð²Ð¾Ð½Ð°
        "ÐÐºÐ°Ð´ÐµÐ¼Ð¼Ñ–ÑÑ‚ÐµÑ‡ÐºÐ¾", "Ð–Ð¸Ñ‚Ð¾Ð¼Ð¸Ñ€ÑÑŒÐºÐ°", "Ð¡Ð²ÑÑ‚Ð¾ÑˆÐ¸Ð½", "ÐÐ¸Ð²ÐºÐ¸", "Ð‘ÐµÑ€ÐµÑÑ‚ÐµÐ¹ÑÑŒÐºÐ°", "Ð¨ÑƒÐ»ÑÐ²ÑÑŒÐºÐ°", "ÐŸÐ¾Ð»Ñ–Ñ‚ÐµÑ…Ð½Ñ–Ñ‡Ð½Ð¸Ð¹ Ñ–Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ‚",
        "Ð’Ð¾ÐºÐ·Ð°Ð»ÑŒÐ½Ð°", "Ð£Ð½Ñ–Ð²ÐµÑ€ÑÐ¸Ñ‚ÐµÑ‚", "Ð¢ÐµÐ°Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð°", "Ð¥Ñ€ÐµÑ‰Ð°Ñ‚Ð¸Ðº", "ÐÑ€ÑÐµÐ½Ð°Ð»ÑŒÐ½Ð°", "Ð”Ð½Ñ–Ð¿Ñ€Ð¾", "Ð“Ñ–Ð´Ñ€Ð¾Ð¿Ð°Ñ€Ðº", "Ð›Ñ–Ð²Ð¾Ð±ÐµÑ€ÐµÐ¶Ð½Ð°",
        "Ð”Ð°Ñ€Ð½Ð¸Ñ†Ñ", "Ð§ÐµÑ€Ð½Ñ–Ð³Ñ–Ð²ÑÑŒÐºÐ°", "Ð›Ñ–ÑÐ¾Ð²Ð°",
        # Ð—ÐµÐ»ÐµÐ½Ð°
        "Ð¡Ð¸Ñ€ÐµÑ†ÑŒ", "Ð”Ð¾Ñ€Ð¾Ð³Ð¾Ð¶Ð¸Ñ‡Ñ–", "Ð›ÑƒÐº'ÑÐ½Ñ–Ð²ÑÑŒÐºÐ°", "Ð—Ð¾Ð»Ð¾Ñ‚Ñ– Ð²Ð¾Ñ€Ð¾Ñ‚Ð°", "ÐŸÐ°Ð»Ð°Ñ† ÑÐ¿Ð¾Ñ€Ñ‚Ñƒ", "ÐšÐ»Ð¾Ð²ÑÑŒÐºÐ°", "ÐŸÐµÑ‡ÐµÑ€ÑÑŒÐºÐ°",
        "Ð—Ð²Ñ–Ñ€ÐµÐ½ÐµÑ†ÑŒÐºÐ°", "Ð’Ð¸Ð´ÑƒÐ±Ð¸Ñ‡Ñ–", "Ð¡Ð»Ð°Ð²ÑƒÑ‚Ð¸Ñ‡", "ÐžÑÐ¾ÐºÐ¾Ñ€ÐºÐ¸", "ÐŸÐ¾Ð·Ð½ÑÐºÐ¸", "Ð¥Ð°Ñ€ÐºÑ–Ð²ÑÑŒÐºÐ°", "Ð’Ð¸Ñ€Ð»Ð¸Ñ†Ñ", "Ð‘Ð¾Ñ€Ð¸ÑÐ¿Ñ–Ð»ÑŒÑÑŒÐºÐ°",
        "Ð§ÐµÑ€Ð²Ð¾Ð½Ð¸Ð¹ Ñ…ÑƒÑ‚Ñ–Ñ€",
        # Ð¡Ð¸Ð½Ñ
        "Ð“ÐµÑ€Ð¾Ñ—Ð² Ð”Ð½Ñ–Ð¿Ñ€Ð°", "ÐœÑ–Ð½ÑÑŒÐºÐ°", "ÐžÐ±Ð¾Ð»Ð¾Ð½ÑŒ", "ÐŸÐ¾Ñ‡Ð°Ð¹Ð½Ð°", "Ð¢Ð°Ñ€Ð°ÑÐ° Ð¨ÐµÐ²Ñ‡ÐµÐ½ÐºÐ°", "ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ð¾Ð²Ð° Ð¿Ð»Ð¾Ñ‰Ð°", "ÐŸÐ¾ÑˆÑ‚Ð¾Ð²Ð° Ð¿Ð»Ð¾Ñ‰Ð°",
        "ÐœÐ°Ð¹Ð´Ð°Ð½ ÐÐµÐ·Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚Ñ–", "ÐŸÐ»Ð¾Ñ‰Ð° Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ¸Ñ… Ð“ÐµÑ€Ð¾Ñ—Ð²", "ÐžÐ»Ñ–Ð¼Ð¿Ñ–Ð¹ÑÑŒÐºÐ°", "ÐŸÐ°Ð»Ð°Ñ† \"Ð£ÐºÑ€Ð°Ñ—Ð½Ð°\"", "Ð›Ð¸Ð±Ñ–Ð´ÑÑŒÐºÐ°",
        "Ð”ÐµÐ¼Ñ–Ñ—Ð²ÑÑŒÐºÐ°", "Ð“Ð¾Ð»Ð¾ÑÑ–Ñ—Ð²ÑÑŒÐºÐ°", "Ð’Ð°ÑÐ¸Ð»ÑŒÐºÑ–Ð²ÑÑŒÐºÐ°", "Ð’Ð¸ÑÑ‚Ð°Ð²ÐºÐ¾Ð²Ð¸Ð¹ Ñ†ÐµÐ½Ñ‚Ñ€", "Ð†Ð¿Ð¾Ð´Ñ€Ð¾Ð¼", "Ð¢ÐµÑ€ÐµÐ¼ÐºÐ¸"
    ]

    edges = [
        # Ð§ÐµÑ€Ð²Ð¾Ð½Ð°
        ("ÐÐºÐ°Ð´ÐµÐ¼Ð¼Ñ–ÑÑ‚ÐµÑ‡ÐºÐ¾", "Ð–Ð¸Ñ‚Ð¾Ð¼Ð¸Ñ€ÑÑŒÐºÐ°"), ("Ð–Ð¸Ñ‚Ð¾Ð¼Ð¸Ñ€ÑÑŒÐºÐ°", "Ð¡Ð²ÑÑ‚Ð¾ÑˆÐ¸Ð½"), ("Ð¡Ð²ÑÑ‚Ð¾ÑˆÐ¸Ð½", "ÐÐ¸Ð²ÐºÐ¸"), ("ÐÐ¸Ð²ÐºÐ¸", "Ð‘ÐµÑ€ÐµÑÑ‚ÐµÐ¹ÑÑŒÐºÐ°"),
        ("Ð‘ÐµÑ€ÐµÑÑ‚ÐµÐ¹ÑÑŒÐºÐ°", "Ð¨ÑƒÐ»ÑÐ²ÑÑŒÐºÐ°"), ("Ð¨ÑƒÐ»ÑÐ²ÑÑŒÐºÐ°", "ÐŸÐ¾Ð»Ñ–Ñ‚ÐµÑ…Ð½Ñ–Ñ‡Ð½Ð¸Ð¹ Ñ–Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ‚"), ("ÐŸÐ¾Ð»Ñ–Ñ‚ÐµÑ…Ð½Ñ–Ñ‡Ð½Ð¸Ð¹ Ñ–Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ‚", "Ð’Ð¾ÐºÐ·Ð°Ð»ÑŒÐ½Ð°"),
        ("Ð’Ð¾ÐºÐ·Ð°Ð»ÑŒÐ½Ð°", "Ð£Ð½Ñ–Ð²ÐµÑ€ÑÐ¸Ñ‚ÐµÑ‚"), ("Ð£Ð½Ñ–Ð²ÐµÑ€ÑÐ¸Ñ‚ÐµÑ‚", "Ð¢ÐµÐ°Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð°"), ("Ð¢ÐµÐ°Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð°", "Ð¥Ñ€ÐµÑ‰Ð°Ñ‚Ð¸Ðº"),
        ("Ð¥Ñ€ÐµÑ‰Ð°Ñ‚Ð¸Ðº", "ÐÑ€ÑÐµÐ½Ð°Ð»ÑŒÐ½Ð°"), ("ÐÑ€ÑÐµÐ½Ð°Ð»ÑŒÐ½Ð°", "Ð”Ð½Ñ–Ð¿Ñ€Ð¾"), ("Ð”Ð½Ñ–Ð¿Ñ€Ð¾", "Ð“Ñ–Ð´Ñ€Ð¾Ð¿Ð°Ñ€Ðº"), ("Ð“Ñ–Ð´Ñ€Ð¾Ð¿Ð°Ñ€Ðº", "Ð›Ñ–Ð²Ð¾Ð±ÐµÑ€ÐµÐ¶Ð½Ð°"),
        ("Ð›Ñ–Ð²Ð¾Ð±ÐµÑ€ÐµÐ¶Ð½Ð°", "Ð”Ð°Ñ€Ð½Ð¸Ñ†Ñ"), ("Ð”Ð°Ñ€Ð½Ð¸Ñ†Ñ", "Ð§ÐµÑ€Ð½Ñ–Ð³Ñ–Ð²ÑÑŒÐºÐ°"), ("Ð§ÐµÑ€Ð½Ñ–Ð³Ñ–Ð²ÑÑŒÐºÐ°", "Ð›Ñ–ÑÐ¾Ð²Ð°"),

        # Ð—ÐµÐ»ÐµÐ½Ð°
        ("Ð¡Ð¸Ñ€ÐµÑ†ÑŒ", "Ð”Ð¾Ñ€Ð¾Ð³Ð¾Ð¶Ð¸Ñ‡Ñ–"), ("Ð”Ð¾Ñ€Ð¾Ð³Ð¾Ð¶Ð¸Ñ‡Ñ–", "Ð›ÑƒÐº'ÑÐ½Ñ–Ð²ÑÑŒÐºÐ°"), ("Ð›ÑƒÐº'ÑÐ½Ñ–Ð²ÑÑŒÐºÐ°", "Ð—Ð¾Ð»Ð¾Ñ‚Ñ– Ð²Ð¾Ñ€Ð¾Ñ‚Ð°"),
        ("Ð—Ð¾Ð»Ð¾Ñ‚Ñ– Ð²Ð¾Ñ€Ð¾Ñ‚Ð°", "ÐŸÐ°Ð»Ð°Ñ† ÑÐ¿Ð¾Ñ€Ñ‚Ñƒ"), ("ÐŸÐ°Ð»Ð°Ñ† ÑÐ¿Ð¾Ñ€Ñ‚Ñƒ", "ÐšÐ»Ð¾Ð²ÑÑŒÐºÐ°"), ("ÐšÐ»Ð¾Ð²ÑÑŒÐºÐ°", "ÐŸÐµÑ‡ÐµÑ€ÑÑŒÐºÐ°"),
        ("ÐŸÐµÑ‡ÐµÑ€ÑÑŒÐºÐ°", "Ð—Ð²Ñ–Ñ€ÐµÐ½ÐµÑ†ÑŒÐºÐ°"), ("Ð—Ð²Ñ–Ñ€ÐµÐ½ÐµÑ†ÑŒÐºÐ°", "Ð’Ð¸Ð´ÑƒÐ±Ð¸Ñ‡Ñ–"), ("Ð’Ð¸Ð´ÑƒÐ±Ð¸Ñ‡Ñ–", "Ð¡Ð»Ð°Ð²ÑƒÑ‚Ð¸Ñ‡"), ("Ð¡Ð»Ð°Ð²ÑƒÑ‚Ð¸Ñ‡", "ÐžÑÐ¾ÐºÐ¾Ñ€ÐºÐ¸"),
        ("ÐžÑÐ¾ÐºÐ¾Ñ€ÐºÐ¸", "ÐŸÐ¾Ð·Ð½ÑÐºÐ¸"), ("ÐŸÐ¾Ð·Ð½ÑÐºÐ¸", "Ð¥Ð°Ñ€ÐºÑ–Ð²ÑÑŒÐºÐ°"), ("Ð¥Ð°Ñ€ÐºÑ–Ð²ÑÑŒÐºÐ°", "Ð’Ð¸Ñ€Ð»Ð¸Ñ†Ñ"), ("Ð’Ð¸Ñ€Ð»Ð¸Ñ†Ñ", "Ð‘Ð¾Ñ€Ð¸ÑÐ¿Ñ–Ð»ÑŒÑÑŒÐºÐ°"),
        ("Ð‘Ð¾Ñ€Ð¸ÑÐ¿Ñ–Ð»ÑŒÑÑŒÐºÐ°", "Ð§ÐµÑ€Ð²Ð¾Ð½Ð¸Ð¹ Ñ…ÑƒÑ‚Ñ–Ñ€"),

        # Ð¡Ð¸Ð½Ñ
        ("Ð“ÐµÑ€Ð¾Ñ—Ð² Ð”Ð½Ñ–Ð¿Ñ€Ð°", "ÐœÑ–Ð½ÑÑŒÐºÐ°"), ("ÐœÑ–Ð½ÑÑŒÐºÐ°", "ÐžÐ±Ð¾Ð»Ð¾Ð½ÑŒ"), ("ÐžÐ±Ð¾Ð»Ð¾Ð½ÑŒ", "ÐŸÐ¾Ñ‡Ð°Ð¹Ð½Ð°"), ("ÐŸÐ¾Ñ‡Ð°Ð¹Ð½Ð°", "Ð¢Ð°Ñ€Ð°ÑÐ° Ð¨ÐµÐ²Ñ‡ÐµÐ½ÐºÐ°"),
        ("Ð¢Ð°Ñ€Ð°ÑÐ° Ð¨ÐµÐ²Ñ‡ÐµÐ½ÐºÐ°", "ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ð¾Ð²Ð° Ð¿Ð»Ð¾Ñ‰Ð°"), ("ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ð¾Ð²Ð° Ð¿Ð»Ð¾Ñ‰Ð°", "ÐŸÐ¾ÑˆÑ‚Ð¾Ð²Ð° Ð¿Ð»Ð¾Ñ‰Ð°"),
        ("ÐŸÐ¾ÑˆÑ‚Ð¾Ð²Ð° Ð¿Ð»Ð¾Ñ‰Ð°", "ÐœÐ°Ð¹Ð´Ð°Ð½ ÐÐµÐ·Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚Ñ–"), ("ÐœÐ°Ð¹Ð´Ð°Ð½ ÐÐµÐ·Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚Ñ–", "ÐŸÐ»Ð¾Ñ‰Ð° Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ¸Ñ… Ð“ÐµÑ€Ð¾Ñ—Ð²"),
        ("ÐŸÐ»Ð¾Ñ‰Ð° Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ¸Ñ… Ð“ÐµÑ€Ð¾Ñ—Ð²", "ÐžÐ»Ñ–Ð¼Ð¿Ñ–Ð¹ÑÑŒÐºÐ°"), ("ÐžÐ»Ñ–Ð¼Ð¿Ñ–Ð¹ÑÑŒÐºÐ°", "ÐŸÐ°Ð»Ð°Ñ† \"Ð£ÐºÑ€Ð°Ñ—Ð½Ð°\""),
        ("ÐŸÐ°Ð»Ð°Ñ† \"Ð£ÐºÑ€Ð°Ñ—Ð½Ð°\"", "Ð›Ð¸Ð±Ñ–Ð´ÑÑŒÐºÐ°"), ("Ð›Ð¸Ð±Ñ–Ð´ÑÑŒÐºÐ°", "Ð”ÐµÐ¼Ñ–Ñ—Ð²ÑÑŒÐºÐ°"), ("Ð”ÐµÐ¼Ñ–Ñ—Ð²ÑÑŒÐºÐ°", "Ð“Ð¾Ð»Ð¾ÑÑ–Ñ—Ð²ÑÑŒÐºÐ°"),
        ("Ð“Ð¾Ð»Ð¾ÑÑ–Ñ—Ð²ÑÑŒÐºÐ°", "Ð’Ð°ÑÐ¸Ð»ÑŒÐºÑ–Ð²ÑÑŒÐºÐ°"), ("Ð’Ð°ÑÐ¸Ð»ÑŒÐºÑ–Ð²ÑÑŒÐºÐ°", "Ð’Ð¸ÑÑ‚Ð°Ð²ÐºÐ¾Ð²Ð¸Ð¹ Ñ†ÐµÐ½Ñ‚Ñ€"),
        ("Ð’Ð¸ÑÑ‚Ð°Ð²ÐºÐ¾Ð²Ð¸Ð¹ Ñ†ÐµÐ½Ñ‚Ñ€", "Ð†Ð¿Ð¾Ð´Ñ€Ð¾Ð¼"), ("Ð†Ð¿Ð¾Ð´Ñ€Ð¾Ð¼", "Ð¢ÐµÑ€ÐµÐ¼ÐºÐ¸"),

        # ÐŸÐµÑ€ÐµÑÐ°Ð´ÐºÐ¸
        ("Ð¢ÐµÐ°Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð°", "Ð—Ð¾Ð»Ð¾Ñ‚Ñ– Ð²Ð¾Ñ€Ð¾Ñ‚Ð°"), ("ÐœÐ°Ð¹Ð´Ð°Ð½ ÐÐµÐ·Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚Ñ–", "Ð¥Ñ€ÐµÑ‰Ð°Ñ‚Ð¸Ðº"), ("ÐŸÐ»Ð¾Ñ‰Ð° Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ¸Ñ… Ð“ÐµÑ€Ð¾Ñ—Ð²", "ÐŸÐ°Ð»Ð°Ñ† ÑÐ¿Ð¾Ñ€Ñ‚Ñƒ")
    ]

    G = nx.Graph()
    for u, v in edges:
        G.add_edge(u, v, weight=1)
    return G

# ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ Ð”ÐµÐ¹ÐºÑÑ‚Ñ€Ð¸ Ð· Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½ÑÐ¼ Ð±Ñ–Ð½Ð°Ñ€Ð½Ð¾Ñ— ÐºÑƒÐ¿Ð¸
def dijkstra_heap(graph, start):
    distances = {node: float('inf') for node in graph.nodes}
    distances[start] = 0
    heap = [(0, start)]

    while heap:
        current_distance, current_node = heapq.heappop(heap)
        if current_distance > distances[current_node]:
            continue
        for neighbor in graph.neighbors(current_node):
            weight = graph[current_node][neighbor]["weight"]
            distance = current_distance + weight
            if distance < distances[neighbor]:
                distances[neighbor] = distance
                heapq.heappush(heap, (distance, neighbor))
    return distances

# ÐŸÐ¾Ð±ÑƒÐ´Ð¾Ð²Ð° Ð³Ñ€Ð°Ñ„Ð°
metro_graph = build_kyiv_metro_graph()
start_station = "ÐÐºÐ°Ð´ÐµÐ¼Ð¼Ñ–ÑÑ‚ÐµÑ‡ÐºÐ¾"
distances_from_start = dijkstra_heap(metro_graph, start_station)

print("ðŸ”¹ ÐÐ°Ð¹ÐºÐ¾Ñ€Ð¾Ñ‚ÑˆÑ– Ð²Ñ–Ð´ÑÑ‚Ð°Ð½Ñ– Ð²Ñ–Ð´ 'ÐÐºÐ°Ð´ÐµÐ¼Ð¼Ñ–ÑÑ‚ÐµÑ‡ÐºÐ¾':")
for station in ["Ð¢ÐµÑ€ÐµÐ¼ÐºÐ¸", "Ð¡Ð¸Ñ€ÐµÑ†ÑŒ", "ÐÑ€ÑÐµÐ½Ð°Ð»ÑŒÐ½Ð°"]:
    print(f"  {station}: {distances_from_start[station]} ÑÑ‚Ð°Ð½Ñ†Ñ–Ð¹")
